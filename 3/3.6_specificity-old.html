<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="utf-8">
        <title>Специфичность</title>
    </head>
</html>


<!-- ########################################################################################################
    Считаем специфичность.

    В одном CSS правиле считаем:
        * Количество селекторов по идентификатору (=a)
        * Количество селекторов по классу, псевдоклассу (:not не учитывается) или атрибуту (=b)
        * Количество селекторов элементов (тегов) или псевдоэлементов (=c)

    a - Идентификатор
    b - Класс, псевдокласс, атрибут
    c - Элемент, псевдоэлемент

    Если вам сложно понять, что такое лексикографический порядок, то одна компания предложила другую аналогию:

    В одном правиле считаем:
        * Количество селекторов по идентификатору (=a)
        * Количество селекторов по классу, псевдоклассу (:not не учитывается) или атрибуту (=b)
        * Количество селекторов элементов (тегов) или псевдоэлементов (=c)
        * Универсальный селектор, селекторы потомков, детей и прочие не влияют на специфичность

        a - Идентификатор
        b - Класс, псевдокласс, атрибут
        c - Элемент, псевдоэлемент

    Применяем высчитанные значения:
        1. Находим каждому HTML элементу соответствующие ему селекторы
        2. Сортируем селекторы исходя из специфичности (от менее приоритетных к более приоритетным)
        3. Применяем правила последовательно



    Простой пример как "читать" правила CSS:

    1) У нас есть 3 селектора и первое, что мы должны сделать, это посчитать специфичность каждого.

        Здесь 1 селектор, специфичность = 0 0 1
        div {
            color: blue;
            font-weight: bold;
            font-size: 12px;
        }

        Здесь 2 селектора, специфичность = 0 0 2
        html div {
            color: red;
        }

        Здесь 1 селектор, специфичность = 0 0 1
        div {
            font-size: 15px;
        }

        Очевидно, что все три этих селектора выбирают одни и те же наборы элементов, т.е. div'ы.

    2) Далее, мы сортируем их исходя из специфичности, сохраняя последовательность при этом,
       т.е. нужно поменять местами второй и третий слекторы:

        Здесь 1 селектор, специфичность = 0 0 1
        div {
            color: blue;
            font-weight: bold;
            font-size: 12px;
        }

        Здесь 1 селектор, специфичность = 0 0 1
        div {
            font-size: 15px;
        }

        Здесь 2 селектора, специфичность = 0 0 2
        html div {
            color: red;
        }

        Дальше происходит вот такой вот трюк: мы виртуально проваливаем специфичность внутрь каждого свойства:

        div {
            color: blue;        /* 0 0 1 */
            font-weight: bold;  /* 0 0 1 */
            font-size: 12px;    /* 0 0 1 */
        }

        div {
            font-size: 15px;    /* 0 0 1 */
        }

        html div {
            color: red;         /* 0 0 2 */
        }

        И вот уже с такими цифрами мы вытаскиваем все CSS свойства:

        color: blue;            /* 0 0 1 */
        font-weight: bold;      /* 0 0 1 */
        font-size: 12px;        /* 0 0 1 */
        font-size: 15px;        /* 0 0 1 */
        color: red;             /* 0 0 2 */

    3) Применение CSS правил:
        1. В начале правилом задается синий цвет, но в конце оно переопределяется на красный цвет. Текст будет красным.
        2. У нас есть 2 правила размера текста, но второе правило переопределяет первое. Текст будет равен 15px.
        3. Правило которое задает жирность шрифта здесь не переопределяется. Текст будет bold.


    В этих трех шагах было продемонстрировано как применяются правила CSS.
    Более сложный пример:

    color: blue;            /* 0 0 1 */
    font: 13px Arial;       /* 0 0 1 */ Задает в одном значении несколько свойств (размер шрифта и семейство шрифтов)
    font-size: 12px;        /* 0 0 1 */
    font-weight: bold;      /* 0 0 1 */
    font-size: 15px;        /* 0 0 1 */
    color: red;             /* 0 0 2 */

-->
<html>
    <head>
        <style type="text/css">

            /* 0 0 1 */
            div {
                color: blue;
                font-weight: bold;
                font-size: 12px;
            }

            /* 0 0 2 */
            html div {
                color: red;
            }

            /* 0 0 1 */
            div {
                font-size: 15px;
            }

        </style>
    </head>
    <body>
        <div>
            Текст
        </div>
    </body>
</html>

<!--
    В CSS есть еще два способа изменять приоритет правила. Это инлайн и !important:

    1) Инлайн, это возможность указать CSS стили непосредственно внутри HTML элемента:
        <div style="color: blue"></div>

    2) !important это ключевое слово которое употребляется внутри значения правила CSS:
        div {
            color: green !important;
        }

    3) Мы можем комбинировать inline и !important:
        <div style="color: white !important"></div>

    Как же это влияет на специфичность?

    1) Инлайн стили по умолчанию приоритетней стилей в CSS
    2) Стили в CSS с !important приоритетнее инлайн стилей
    3) Инлайн стили с !important приоритетнее всего (на самом деле нет)

    Специфичность:

    color: blue;            /* 0 0 1 */
    font-weight: bold;      /* 0 0 1 */              Применится
    font-size: 12px;        /* 0 0 1 */
    font-size: 15px;        /* 0 0 1 */              Применится
    color: red;             /* 0 0 2 */
    <div style="color: blue"></div>
    color: green !important;
    <div style="color: white !important"></div>      Применится


 -->

 <!-- ########################################################################################################
     Наследование.

     1. Некоторые стили применяются не только к целевому элементу, но и к его потомкам
     2. Унаследованные стили не имеют специфичности, т.е. их всегда перебивает любой селектор
     3. Именно поэтому не рекомендуется пользоваться селекторами *, так как его специфичность будет "0 0 0"

     Рассмотрим пример:
-->

<html>
    <head>
        <style type="text/css">
            /* Универсальный селектор будет приоритетней унаследованного правила.
               Если расскомментировать, то содержимое элемента <abbr> покрасится в красный, а не зеленый цвет, так как наследование ниже по приоритету
                * {
                    color: red;
                }
            */
            div#id1 {
                color: green;
            }
        </style>
    </head>
    <body>
        <div id="id1">
            Привет, <abbr title="Московский Физико-Технический Институт">МФТИ</abbr> <!-- abbr унаследует правило от div'а -->
        </div>
    </body>
</html>

<!--
    Не все стили наследуются. Некоторые стили которые могут быть унаследованны (полный список будет в ссылках к данной лекции):

    color
    cursor
    direction
    empty-cells
    font-famaly
    font-size
    font-weight
    font-style
    font-variant
    font
    letter-spacing
    list-style-type
    list-style-position
    list-style-image
    list-style
    line-height
    quotes
    text-align
    text-indent
    text-transform
    visibility
    white-space
    word-spacing

-->

<!-- ########################################################################################################
    Порядок наложения стилей в зависимости от источника их получения.

    Порядок применения:
    1. Стили браузера
    2. Стили пользователя и/или плагинов браузера
    3. Стили страницы
    4. Стили страницы с !important
    5. Стили пользователя и/или плагинов браузера с !important


-->
