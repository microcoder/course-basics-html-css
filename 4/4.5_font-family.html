<main>
    <header><h3>Семейство шрифтов. Проблемы использования нестандартных шрифтов</h3></header>
    <article> <!-- ===================================================================================== -->
        <h4>Семейство шрифтов</h4>
        <p>
            <strong>Гарнитура</strong> - типографский термин, объединяющий набор шрифтов, которые отличаются по размеру,
            начертанию, <mark style="background: #ffcc25; border-radius: 5px">наличию или отсутствию засечек на концах линий,
            пропорциям символов</mark>, по соотношению размера высоты прописных и строчных знаков, величине верхних и
            нижних выносных элементов, плотности, то есть близких по
            характеру и отличительным знакам рисунка.
        </p>
        
        <p>Классификация шрифтов в web:</p>
        
        <div class="mb-3">
            <div class="row" style="text-align: center;">
                <div class="col-md-6 col-lg-6 col-xl-2 table-bordered">
                    <div class="row">
                        <div class="col" style="font-size: 36px; font-family: serif;">serif</div>
                    </div>
                    <div class="row">
                        <div class="col">с засечками</div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <a href="https://ru.wikipedia.org/wiki/%D0%90%D0%BD%D1%82%D0%B8%D0%BA%D0%B2%D0%B0"
                                target="_blank">антиква</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-6 col-xl-4 table-bordered">
                    <div class="row">
                        <div class="col" style="font-size: 36px; font-family: sans-serif;">sans-serif</div>
                    </div>
                    <div class="row">
                        <div class="col">без засечек</div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <a href="https://ru.wikipedia.org/wiki/%D0%93%D1%80%D0%BE%D1%82%D0%B5%D1%81%D0%BA_(%D1%88%D1%80%D0%B8%D1%84%D1%82)"
                                target="_blank">гротески</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 col-lg-12 col-xl-2 table-bordered">
                    <div class="row">
                        <div class="col" style="font-size: 36px; font-family: cursive;">cursive</div>
                    </div>
                    <div class="row">
                        <div class="col">рукописные</div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <a href="https://ru.wikipedia.org/wiki/%D0%9A%D0%B0%D0%BB%D0%BB%D0%B8%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%8F"
                                target="_blank">калиграфические</a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row" style="text-align: center;">
                <div class="col-md-6 col-lg-6 col-xl-4 table-bordered">
                    <div class="row">
                        <div class="col" style="font-size: 36px; font-family: monospace;">monospace</div>
                    </div>
                    <div class="row">
                        <div class="col">моноширинные</div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <a href="https://ru.wikipedia.org/wiki/%D0%9C%D0%BE%D0%BD%D0%BE%D1%88%D0%B8%D1%80%D0%B8%D0%BD%D0%BD%D1%8B%D0%B9_%D1%88%D1%80%D0%B8%D1%84%D1%82"
                                target="_blank">непропорциональные</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 ol-lg-6 col-xl-4 table-bordered">
                    <div class="row">
                        <div class="col" style="font-size: 36px; font-family: fantasy;">fantasy</div>
                    </div>
                    <div class="row">
                        <div class="col">декоративные</div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <a href="https://ru.wikipedia.org/wiki/%D0%90%D0%BA%D1%86%D0%B8%D0%B4%D0%B5%D0%BD%D1%82%D0%BD%D1%8B%D0%B9_%D0%BD%D0%B0%D0%B1%D0%BE%D1%80"
                                target="_blank">акцидентные</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </article>

    <article>
        <h4>Шрифты в ОС</h4>
        <p>
            Существует ряд шрифтов, которые есть практически в каждой ОС, таким образом их использование считается наиболее безопасным. <br>
            Такими являются шрифты, например:
        </p>
        <table class="table table-sm table-bordered w-50">
            <tr>
                <td>С засечками</td>
                <td style="font-family: Times New Roman">Times New Roman</td>
            </tr>
            <tr>
                <td>Без засечек</td>
                <td style="font-family: Arial">Arial</td>
            </tr>
            <tr>
                <td>Моноширинный</td>
                <td style="font-family: Courier New">Courier New</td>
            </tr>
        </table>
        <p>
            Чтобы использовать нужный шрифт, пишем:
        </p>
        <div class="card bg-light mb-3 p-3">
            <!-- Количество элементов <code>:
                * Если один, то отображается исходный код и он же проигрывается на странице.
                * Если 2 или более, то первый отображается как исходный код, второй проигрывается на странице.
            -->
            <code class="css">
                body {
                    font-family: 'Arial';
                }
            </code>
            <code></code>
        </div>
        <p>
            Можно писать название шрифта без кавычек:
        </p>
        <div class="card bg-light mb-3 p-3">
            <code class="css">
                body {
                    font-family: Arial;
                }
            </code>
            <code></code>
        </div>
        <p>
            А также, можно указать несколько шрифтов через запятую. Зачем нужно указывать шрифты через запятую?<br>
            Например, если браузер пользователя не найдет на компьютере шрифт <em>Arial</em>, то он попробует применить шрифт <em>Helvetika</em> и т.д.
        </p>
        <div class="card bg-light mb-3 p-3">
            <code class="css">
                body {
                    font-family: Arial, Helvetika, Calibri;
                }
            </code>
            <code></code>
        </div>
        <p>
            А что, если третьего шрифта нет на компьютере пользователя? Тогда, в 99% случаев установится <em>Times New Roman</em>,
            это зависит от настроек браузера. Но проблема тут в другом, в том, что шрифты <em>Arial, Helvetika, Calibri</em>
            <strong>без засечек</strong>, а шрифт <em>Times New Roman</em> <strong>с засечками</strong>, поэтому мы можем увидеть
            наш сайт не так как хотелось бы.
        </p>

        <p>
            Теперь нам пригодится классификация:
        </p>
        <table class="table table-sm table-bordered w-50">
            <tr>
                <td style="font-family: serif;">serif</td>
                <td>с засечками</td>
            </tr>
            <tr>
                <td style="font-family: sans-serif;">sans-serif</td>
                <td>без засечек</td>
            </tr>
            <tr>
                <td style="font-family: cursive;">cursive</td>
                <td>рукописные</td>
            </tr>
            <tr>
                <td style="font-family: monospace;">monospace</td>
                <td>моноширинные</td>
            </tr>
            <tr>
                <td>fantasy</td>
                <td style="font-family: fantasy;">декоративные</td>
            </tr>
        </table>
        <p>
            Вот эти все названия, можно использовать в свойстве <em>font-family</em> для того, чтобы указать, какое семейство шрифтов установить в случае,
            если не был найден ни одни из перечисленных шрифтов:
        </p>
        <div class="card bg-light mb-3 p-3">
            <code class="css">
                body {
                    font-family: Arial, Helvetika, Calibri, sans-serif;
                }
            </code>
            <code></code>
        </div>
    </article>

    <article>
        <h4>Нестандартные шрифты</h4>
        <p>
            Всегда есть возможность подключить свой шрифт на страницу с помощью at-правила <em>@font-face</em>.
        </p>
        <div class="card bg-light mb-3 p-3">
            <code class="css">
                @font-face {
                    font-family: myCustomFont;
                    src: url(myCustomFont.woff);
                }

                body {
                    font-family: myCustomFont, sans-serif;
                }
            </code>
            <code></code>
        </div>
        <p>
            Если есть вероятность, что какой-либо шрифт уже установлен на пользовательский компьютер, можно указать его через <em>local()</em>.
            В скобках указываете название шрифта, так как оно указано в ОС. Далее, вы можете указать путь, который будет
            запасным, если локально у пользователя этот шрифт не установлен:
        </p>
        <div class="card bg-light mb-3 p-3">
            <code class="css">
                @font-face {
                    font-family: myCustomFont;
                    src: local('Native Custom Font') url(myCustomFont.woff);
                }

                body {
                    font-family: myCustomFont, sans-serif;
                }
            </code>
            <code></code>
        </div>
        <p>
            А можно указать диапазон используемых в шрифте символов с помощью <em>unicode-range</em>:
        </p>
        <div class="card bg-light mb-3 p-3">
            <code class="css">
                @font-face {
                    font-family: myCustomFont;
                    unicode-range: U+000-5FF; /* Только латинские символы */
                    src: local('Native Custom Font') url(myCustomFont.woff);
                }

                body {
                    font-family: myCustomFont, sans-serif;
                }
            </code>
            <code></code>
        </div>
        <p>
            Но как всегда, есть ньюансы: <em>local()</em> - весьма маловероятное развитие событий, так как редко пользователь, особенно
            на мобильных устройствах устанавливает себе какие-либо шрифты, а <em>unicode-range</em> очень плохо поддерживается,
            а также не обошлось без больших проблем:
            <ol>
                <li>
                    Подключенный шрифт жирного начертания и, например, курсивного начертания - два разных файла, и подключать их нужно отдельно.
                    Рассмотрим пример:
                    <div class="card bg-light mb-3 p-3">
                        <code class="css">
                            @font-face {
                                font-family: Sooo Good Font Bold;
                                src: url(soGoodFontBold.woff);
                            }
        
                            header {
                                font-family: Sooo Good Font Bold, sans-serif;
                            }

                            @font-face {
                                font-family: Sooo Good Font Italic;
                                src: url(soGoodFontItalic.woff);
                            }

                            footer {
                                font-family: Sooo Good Font Italic, sans-serif;
                            }
                        </code>
                        <code></code>
                    </div>
                    <p>
                        С этим есть некоторые проблемы, вам нужно запомнить названия этих шрифтов, но еще нужно запомнить
                        его начертание, такое как <em>Bold, Italic, Condensed, Expanded</em> и т.д.
                    </p>
                    <p>
                        Но есть маленький life-hack, как сделать эту работу проще. Мы можем привязывать определенный файл к
                        определенному начертанию с помощью свойств <em>font-weight</em> и <em>font-style</em>, указанных в <em>@font-face</em>:
                    </p>
                    <div class="card bg-light mb-3 p-3">
                        <code class="css">
                            @font-face {
                                font-family: Sooo Good Font;
                                src: url(soGoodFont.woff);
                                font-style: normal; /* обычный */
                            }

                            @font-face {
                                font-family: Sooo Good Font;
                                src: url(soGoodFontItalic.woff);
                                font-style: italic; /* курсивный */
                            }
        
                            body { font-family: Sooo Good Font; }
                            footer { font-style: italic; s}
                        </code>
                        <code></code>
                    </div>
                    <p>Проблема №1 решена.</p>
                </li>
                <li>
                    Раньше, чтобы подключить шрифт на страницу, приходилось использовать 4 формата: <em>.svg, .ttf, .woff</em> и <em>.eot</em>
                    и выглядело это примерно вот так:
                    <div class="card bg-light mb-3 p-3">
                        <code class="css">
                            @font-face {
                                font-family: myFont;
                                src: url('myFont.eot');
                                src: url('myFont.eot?#iefix') format('embedded-opentype'),
                                        url('myFont.woff')       format('woff'),
                                        url('myFont.ttf')        format('truetype'),
                                        url('myFont.svg')        format('svg');

                                font-weight: normal;
                                font-style: normal;
                            }
                        </code>
                        <code></code>
                    </div>
                    <p>
                        Сейчас значительно лучше, но Android 4.3 - не понимает формат <em>.woff</em>, и для него еще нужно подключить <em>.ttf</em>:
                    </p>
                    <div class="card bg-light mb-3 p-3">
                        <code class="css">
                            @font-face {
                                font-family: myFont;
                                src: url(myFont.woff)       format(woff),
                                        url(myFont.ttf)        format(truetype);
                            }
                        </code>
                        <code></code>
                    </div>
                    <p>
                        Представьте ситуацию, у вас есть шрифт формата <em>.woff</em> и откуда вам взять еще формат <em>.ttf</em>? Идеальным
                        решением проблемы является Дизайнер, который должен вам предоставить пакет шрифтов которые вы можете использовать во
                        всех браузерах. Но если такой возможности нет, то можно воспользоваться сервисами-генераторами, которые помогают собрать
                        весь пакет нужных форматов в несколько кликов.<br>
                        Один из них, самый популярный, сервис <a href="https://www.fontsquirrel.com/" target="_blank">FontSquirrel</a>.
                        А еще существуют сервисы, которые предоставляют шрифты, самый популярный это 
                        <a href="https://fonts.google.com/" target="_blank">Google Fonts</a>.
                    </p>
                    <p>
                        На этом проблема №2 решена.
                    </p>
                </li>
                <li>
                    Шрифты - файлы, а файлы нужно загружать. Более того, когда шрифт загружен на страницу, он не применяется стразу.
                    Примерный алгоритм браузера со шрифтами:
                    <ol>
                        <li>Браузер получает и разбирает CSS</li>
                        <li>Встречает в CSS инструкцию <em>@font-face</em>, но <em>НЕ</em> скачивает файл шрифта</li>
                        <li>Разбирает CSS дальше и встречает указание шрифта в <em>font-family</em></li>
                        <li>Начинает загрузку шрифта</li>
                        <li>По окончанию загрузки разбирает шрифт и применяет к странице</li>
                    </ol>
                    <p>
                        Что видит пользователь? А он видит вспышку невидимого текста (FOIT - Flash Of Invisible Text).<br>
                        Web не стоит на месте, и сейчас обсуждается свойство <em>font-display</em>, которое позволяет
                        контролировать поведение шрифта, подключенного в <em>@font-face</em>, но не примененного на странице.<br>
                        А вывод в том, что загрузка файлов шрифта и его отображение на странице - дорогая операция.
                    </p>
                    <p>
                        Что можно сделать?
                        <ol>
                            <li>Записать шрифт напрямую в CSS в формате base64</li>
                            <li>Исключить ненужные символы</li>
                            <li>Архивировать в gzip</li>
                            <li>Кешировать с помощью настроек HTTP-сервера</li>
                            <li>Использовать формат WOFF 2.0</li>
                            <li>Поднять <em>@font-face</em> и использовать его в <em>font-family</em> как можно выше в коде</li>
                        </ol>
                    </p>
                    <p>На этом проблема №3 решена.</p>
                </li>
            </ol>
        </p>
    </article>
</main>
